# -------------------------------
# Blue-Green Deployment Settings
# -------------------------------

# Docker Images
# The grader will set these variables
# Use the exact tag from the task: devops-stage-two
BLUE_IMAGE=yimikaade/wonderful:devops-stage-two
GREEN_IMAGE=yimikaade/wonderful:devops-stage-two

# Release Identifiers
# These are passed into the containers as RELEASE_ID env var
# The apps will return these in the X-Release-Id header
RELEASE_ID_BLUE=blue-release-1
RELEASE_ID_GREEN=green-release-1

# Active Pool (blue or green)
# Blue is primary by default, Green is backup
ACTIVE_POOL=blue

# Internal Application Port
# Port the app listens on INSIDE the container
PORT=3000

# Host-Facing Ports
# Ports exposed on the host machine for external access
# DO NOT CHANGE THESE - Required by grader
NGINX_PORT=8080
BLUE_HOST_PORT=8081
GREEN_HOST_PORT=8082

# -------------------------------
# Observability / Alerts Config
# -------------------------------

# Slack Webhook (for alerts) â€” leave blank in .env.example
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxxx/yyyy/zzzz   # <-- PUT YOUR SLACK INCOMING WEBHOOK HERE (do not commit secrets)

# Active pool (blue or green)
#ACTIVE_POOL=blue

# Error rate threshold (% of 5xx before alert)
ERROR_RATE_THRESHOLD=2

# Number of recent requests in sliding window
WINDOW_SIZE=200

# Cooldown time between same alerts (seconds)
ALERT_COOLDOWN_SEC=300

# Maintenance mode flag (to suppress alerts)
MAINTENANCE_MODE=false
